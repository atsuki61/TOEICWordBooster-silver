プロジェクト名: Gin-Phrase-Flashcards-Enhanced1. 概要と目的提供されるテキストファイル (銀のフレーズ.txt) および別途提供される単語詳細情報 (JSON 形式を想定) に基づき、英単語の暗記を支援するウェブベースのフラッシュカードアプリケーションを作成します。ユーザーは TOEIC 頻出の意味、例文と共に効率的に単語学習を進めることができ、カテゴリや学習進捗による絞り込み機能も利用できます。学習状況（各単語のステータス、絞り込み条件）はローカルストレージに保存し、次回起動時にも復元します。2. 使用技術 HTMLCSSJavaScript (バニラ JS のみ、外部ライブラリ・フレームワークは使用しない)3. データソース銀のフレーズ.txt (UTF-8 エンコーディング)データ形式: 各エントリは、通し番号、タブ、単語情報、改行、カテゴリ名、改行、改行で構成。例: 1\t001 - begin\n 基礎の 400 語\n\n パース処理: JavaScript でテキストファイルを読み込み、各単語データから id (通し番号), wordNumber (単語番号), word (英単語), category (カテゴリ名) を抽出。Supplement4 前置詞・接続詞・接続副詞 のような、単語の代わりに日本語の説明が入っているエントリは、処理対象外とします。word_details.json (UTF-8 エンコーディング、別途用意されることを想定)目的: 銀のフレーズ.txt の各単語に対する意味、例文、例文の日本語訳を提供します。データ形式: 単語の id (通し番号) をキーとしたオブジェクトの配列。[
{
"id": "1", // 銀のフレーズ.txt の通し番号と対応
"meanings": [
{ "meaning": "始める、始まる", "pos": "動" }, // pos: part of speech (品詞)
{ "meaning": "開始", "pos": "名" }
],
"examples": [
{
"sentence_en": "The meeting will begin at 10 AM.",
"sentence_ja": "会議は午前 10 時に始まります。"
},
{
"sentence_en": "Let's begin the presentation.",
"sentence_ja": "プレゼンテーションを始めましょう。"
}
]
}
// ... 他の単語データ
]
パースとマージ処理: word_details.json を JavaScript で読み込み、銀のフレーズ.txt からパースした単語データと id をキーにしてマージします。最終的な単語オブジェクトは以下のようになります。// 単語オブジェクトの例
// let wordObject = {
// id: "1",
// wordNumber: "001",
// word: "begin",
// category: "基礎の 400 語",
// status: "unlearned", // 学習ステータス: "unlearned", "review", "learned"
// meanings: [ /* ... */ ],
// examples: [ /* ... */ ]
// }; 4. アプリケーションの機能 4.1. 表示関連フラッシュカード表示:画面中央にフラッシュカードを表示します。表面: 英単語 (word) を大きく表示します。裏面:単語番号 (wordNumber)カテゴリ名 (category)意味: meanings 配列の内容を表示。複数の意味がある場合はすべて表示 (品詞も表示)。例文: examples 配列の内容を表示。各例文について英語 (sentence_en) と日本語訳 (sentence_ja) をペアで表示。初期状態では表面が表示されています。単語情報表示:現在のカードが学習対象全体の何枚目かを表示します (例: 10 / 125)。学習ステータス表示:現在のカードの学習ステータス（「習得済み」「要復習」「未学習」）に応じて、カードの隅などに小さなアイコンや色で視覚的に表示します（任意）。4.2. 操作関連カードをめくる:「答えを見る」ボタンをクリックすると、カードが裏返り裏面が表示されます。再度クリックすると表面に戻ります (トグル動作)。または、カード自体をクリックしてもめくれるようにします。次の単語/前の単語:「次へ」ボタン: 現在表示されている単語の次の単語を表示します。最後の単語の場合は最初の単語に戻ります (ループ)。「前へ」ボタン: 現在表示されている単語の前の単語を表示します。最初の単語の場合は最後の単語に戻ります (ループ)。ランダム表示:「ランダム表示」チェックボックス。チェックが入っている場合、「次へ」ボタンをクリックすると、現在の絞り込み条件に合致する単語からランダムに次の単語を表示します。チェックが外れている場合は、ID 順に表示します。単語番号でジャンプ:入力フィールドと「ジャンプ」ボタンを設置します。ユーザーが単語の通し番号 (id) を入力して「ジャンプ」ボタンを押すと、該当する番号の単語カードを表示します（絞り込み条件は無視してジャンプ）。学習ステータス変更:カード表示エリア（またはフッター）に「習得済み」「要復習」「未学習」のステータスを選択・変更できるボタン群を設置します。選択されたステータスは、現在の単語オブジェクトの status プロパティに保存され、ローカルストレージにも即時保存されます。各単語の初期ステータスは「未学習 (unlearned)」です。4.3. 絞り込み機能絞り込みパネルの表示:「絞り込み」ボタンを設置。クリックすると、カテゴリと学習ステータスを選択するためのモーダルウィンドウ（またはアコーディオンパネル）が表示されます。カテゴリによる絞り込み: (参考: image_787ae7.png)モーダル内に、テキストファイル内に出現するすべてのユニークなカテゴリ名をチェックボックスリストとして表示します。ユーザーは複数のカテゴリを選択可能です。学習ステータスによる絞り込み: (参考: image_787ec5.png)モーダル内に、「習得済み」「要復習」「未学習」のチェックボックスを表示します。ユーザーは複数のステータスを選択可能です。絞り込み実行:モーダル内の「適用」ボタン（または「絞り込む」ボタン）をクリックすると、選択されたカテゴリおよび学習ステータスに合致する単語のみがフラッシュカードの学習対象となります。絞り込み条件はローカルストレージに保存し、次回起動時にも復元します。何も選択されていない場合は、全件表示とするか、アラートを表示します。5. UI/UX デザインレイアウト:ヘッダー: アプリケーションタイトル。コントロールエリア: 「絞り込み」ボタン、ランダム表示チェックボックス、単語番号ジャンプ。メインエリア: フラッシュカード、現在の単語情報。フッターエリア: 「前へ」「答えを見る」「次へ」ボタン、学習ステータス変更ボタン群。デザイン:シンプルでクリーン、かつ情報が整理されたデザイン。読みやすいフォント。意味や例文の表示も考慮したフォントサイズ。カードの表面と裏面は視覚的に区別。レスポンシブデザイン。絞り込みモーダル:提供された画像 (image_787ae7.png, image_787ec5.png) を参考に、使いやすいインターフェースを設計。6. ファイル構造 gin-phrase-flashcards-enhanced/
├── index.html
├── style.css
├── script.js
└── data/
├── gin_no_phrase.txt
└── word_details.json // 単語の意味や例文データ
各データファイルは data フォルダに配置し、JavaScript から fetch で読み込みます。

7. JavaScript (script.js) の主な処理内容初期化処理 (init):gin_no_phrase.txt と word_details.json を非同期で読み込み、パースして単語データ (allWords) をマージ・格納します。ローカルストレージから学習ステータスと絞り込み条件を読み込み、各単語オブジェクトに反映します。カテゴリリストを生成し、絞り込みモーダルに設定します。絞り込み条件に基づいて currentWords を初期化します。最初の単語カードを表示します。イベントリスナーを設定します。データ管理:allWords: すべての単語情報（マージ済み）と学習ステータスを格納する配列。currentWords: 現在の絞り込み条件に合致する学習対象の単語オブジェクトを格納する配列。currentIndex: currentWords 配列における現在表示中の単語のインデックス。filterConditions: 現在の絞り込み条件（カテゴリ、ステータス）を保持するオブジェクト。DOM 操作関数:カードの表示を更新する関数 (updateCardView)：意味・例文の表示を含む。単語情報表示を更新する関数 (updateCardInfo)。絞り込みモーダルの表示/非表示を制御する関数。イベントハンドラ:各種ボタン、チェックボックス、絞り込み関連のイベント処理。学習ステータス変更時の処理とローカルストレージへの保存。ロジック:カードめくりロジック。単語ナビゲーションロジック。絞り込み条件の適用と currentWords の更新ロジック。ローカルストレージへの学習ステータスと絞り込み条件の保存・読み込みロジック。8. CSS (style.css) の主なスタイル定義基本的なページレイアウト（Flexbox や Grid を推奨）。フラッシュカードのスタイル（サイズ、パディング、ボーダー、シャドウなど）。カード表面・裏面のスタイル。ボタン、ドロップダウン、入力フィールドのスタイル。レスポンシブ対応のためのメディアクエリ。カードめくりアニメーションの定義。絞り込みモーダルウィンドウのスタイル。チェックボックスリストのスタイル。意味、例文表示エリアのスタイル。9. HTML (index.html) の構造適切な DOCTYPE、html、head（meta タグ、title、link CSS）、body タグ。ヘッダー、コントロールエリア、メインエリア、フッターエリアに対応するセマンティックな HTML 要素（header, nav, main, article, footer, button, select, input など）。JavaScript ファイルは body の閉じタグ直前で読み込む (<script defer src="script.js"></script>)。絞り込みモーダルウィンドウの HTML 構造。学習ステータス変更ボタン群の HTML 構造。10. エラーハンドリングデータファイルの読み込みに失敗した場合、ユーザーにエラーメッセージを表示します。word_details.json に対応する id のデータが存在しない場合のフォールバック処理 (例: 意味や例文を表示しない)。無効な単語番号がジャンプ機能で指定された場合、適切なフィードバック（例: エラーメッセージまたは何もしない）を提供します。11. その他コメント: JavaScript のコードには、主要な関数や複雑なロジックについて説明コメントを記述してください。可読性: HTML, CSS, JavaScript のコードは、適切にインデントされ、可読性の高い状態にしてください。
